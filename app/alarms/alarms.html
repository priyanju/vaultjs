<div ng-include="'header.html'"></div>
<div ng-include="'sidebar.html'"></div>
<div class="page home-page">
    <section class="statistics section-padding section_top">
        <div class="container-fluid" ng-init="alramInit()">
             <div ng-show="myLoader" class="spinner">
              <img src="assets/images/spinner.gif"> <!-- https://media1.tenor.com/images/a3bf29a2520198ddcbef0958f3761e14/tenor.gif?itemid=11391686.gif -->
          </div> 


            <header>
                <h1 class="h3 display table_h1">
                    <i class="fa fa-laptop"></i>Overall Alarm Report </h1>
                <div class="table_search">
                    <input ng-model="q2" id="search" class="form-control" ng-click="currentPage2 = 0" placeholder="{{'search' | translate }}">
                </div>
            </header>
            <div class="clearfix"></div>
            <div class="card">

                <div class="card-block tablescroll">

                    <table class="table table-striped table-sm table_front">
               
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>{{'machine' | translate }} </th>
                                <th>{{'alarmtype' | translate }}</th>
                                <th>{{'date' | translate }}</th>
                                <!-- <th>{{'time' | translate }}</th>
                                <th>{{'duration' | translate }}(H:M:S)</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="alarm in AlarmData  | filter:q2 | startFrom:currentPage2*pageSize2 | limitTo:pageSize2">
                                <td>{{currentPage2 * pageSize2 + $index + 1}}</td>
                                <td>{{ alarm.machine.machine_name}}</td>
                                <td>{{alarm.alarm_type}}-{{alarm.alarm_number}} : {{ alarm.alarm_message }}</td>
                                <td>{{alarm.updated_at | date:'dd-MM-yyyy'}} </td>
                                <!-- <td>({{alarm.created_at | date : "h:mm:ss"}} - {{alarm.updated_at| date : "h:mm:ss"}})</td>
                                <td>{{alarm.hour}}:{{alarm.minute}}:{{alarm.second}}</td> -->
                            </tr>
                        </tbody>
                    </table>

                    <div>
                        <div class="pagination_left">{{'page' | translate }} {{currentPage2+1}} {{'of' | translate }} {{numberOfPages2()}}</div>
                        <div class="pagination_right">
                            <ul class="pagination pagination">
                                <li class="page-item" >
                                    <button class="page-link"  ng-disabled="currentPage2 == 0" ng-click="currentPage2=currentPage2-1">&laquo; </button>
                                </li>
                                <li class="page-item">
                                    <button class="page-link" ng-disabled="currentPage2 >= getData2().length/pageSize2 - 1"
                                        ng-click="currentPage2=currentPage2+1">&raquo;</button>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>


        </div>


    </section>
    

   <section class="statistics section-padding section_top">
        <div class="container-fluid" ng-init="alramhistoryinit()">
          
            
                <!--a  href="" class="btn_top" ng-click="exportData()"><i class="fa fa-share-square-o" aria-hidden="true"></i>Export</a-->
               
             

            <header>
                <h1 class="h3 display table_h1">
                    <i class="fa fa-laptop"></i>{{'overallalarmhistory' | translate }} </h1>
                <div class="table_search">
                    <input ng-model="q4" id="search" class="form-control" ng-click="currentPage4 = 0" placeholder="{{'search' | translate }}">
                </div>
            </header>
            <div class="clearfix"></div>
            <div class="card">

                <div class="card-block tablescroll" id="exportable10">

                    <table class="table table-striped table-sm table_front">
               
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>{{'machine' | translate }}</th>
                                <th>{{'alarmtype' | translate }}</th>
                                 <th>{{'axisnumber' | translate }}</th>
                                <!--th>Alarm Status</th-->
                                <th>{{'Date' | translate }}</th>
                                <th>Time</th>
                                <!-- <th>Duration(H:M:S)</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="alarm in AlarmDatahistory | filter:q4 | startFrom:currentPage4*pageSize4 | limitTo:pageSize4" >
                                <td>{{currentPage4 * pageSize4 + $index + 1}}</td>
                                <td>{{ alarm.machine.machine_name}}</td>
                                <td>{{alarm.alarm_type}}-{{alarm.alarm_no}} : {{ alarm.message }}</td>
                                 <td>{{ alarm.axis_no}}</td> 
                               <!-- <td>{{ alarm.alarm_status}}</td>-->
                               
                                <td>{{alarm.time | date:'dd-MM-yyyy'}} </td>
                                <td>{{alarm.ex_time | date : "h:mm:ss" }} </td> 
                                <!-- <td>{{alarm.hour}}:{{alarm.minute}}:{{alarm.second}}</td> -->
                            </tr>
                        </tbody>
                    </table>

                    <div>
                        <div class="pagination_left">{{'page' | translate }} {{currentPage4+1}} {{'of' | translate }} {{numberOfPages4()}}</div>
                        <div class="pagination_right">
                            <ul class="pagination pagination">
                                <li class="page-item" >
                                    <button class="page-link"  ng-disabled="currentPage4 == 0" ng-click="currentPage4=currentPage4-1">&laquo; </button>
                                </li>
                                <li class="page-item">
                                    <button class="page-link" ng-disabled="currentPage4 >= getData4().length/pageSize4 - 1"
                                        ng-click="currentPage4=currentPage4+1">&raquo;</button>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>


        </div>


    </section>
<div ng-include="'footer.html'"></div>
</div>


<!-- <div class="row">
        
            <div class="col-lg-5 col-md-12">
                <header> 
                    <h1 class="h3 display recentsalrm"><i class="fa fa-bell-o"></i>Recent Alarms</h1>
                </header>
                <div class="row">
                    <div class="col-lg-6 col-md-6" ng-repeat="alarm in AlarmDataRe">
                   
                        <div class="card alarm">
                             <h1>{{ alarm.machine.machine_name}}</h1>
                            <h2>{{alarm.created_at | date:'dd-MM-yyyy'}} ({{alarm.created_at | date : "shortTime"}} - {{alarm.updated_at | date : "shortTime"}})</h2>
                            <h2>Duration : {{alarm.hour}}:{{alarm.minute}}:{{alarm.second}} </h2>
                            <p>{{alarm.alarm_type}}-{{alarm.alarm_number}} :  {{ alarm.alarm_message }}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7"> -->
<!--  <header>
                    <h1 class="h3 display"><i class="fa fa-laptop"></i>Internet Status</h1>
                </header>
                <div class="card">
                    <div class="card-block tablescroll">
                        <table class="table table-striped table-sm table_front">
                            <thead>
                                <tr>
                                    <th>S.No</th>
                                   
                                    <th>Date</th>
                                    <th>Time</th>
                                     <th>Status</th>
                                </tr>
                            </thead>
                            <tbody >
                                <tr ng-repeat="conn in connectionStatus">
                                    <td>{{ $index + 1}}</td>
                                    <td>{{conn.date}}</td>
                                    <td>{{conn.time}}</td>
                                    <td>{{conn.status}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <br> -->

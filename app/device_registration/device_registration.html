<div ng-include="'header.html'"></div>
<div ng-include="'adminsidebar.html'"></div>
 <div class="page home-page">     
<section class="statistics section-padding section_top" ng-init="deviceinit()">
            <div class="container-fluid">
         
             <div class="row">
                   
                    <div class="col-lg-12">
                        <header>
                          <div ng-show="myLoader" class="spinner">
                          <img src="assets/images/spinner.gif"> <!-- https://media1.tenor.com/images/a3bf29a2520198ddcbef0958f3761e14/tenor.gif?itemid=11391686.gif -->
                         </div> 
                            <h1 class="h3 display"><i class="fa fa-laptop"></i>
                           Device Registration
                           <a  class="btn_add" data-toggle="modal" data-target="#machine"><i class="fa fa-plus" aria-hidden="true" ng-click="cleandata()"></i></a>
                          </h1>
                        </header>
                        <div class="card">
                            <div class="card-block tablescroll">
                                <table class="table table-striped table-sm table_front">
                                    <thead>
                                        <tr>
                                           <th>Device Name</th>
                                           <th>Price</th>
                                           <th>Purchase Date</th>
                                           <th>Count</th>
                                           <th>Total Price</th>
                                           <th>Created By</th>
                                           <th>Action</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="user in deviceres">
                                           <td>{{user.name }}</td>
                                           <td>{{user.per_pic_price}}
                                           <td>{{user.purchase_date}}</td>
                                           <td>{{user.count}}</td>
                                           <td>{{user.total_price}}</td>
                                           <td>{{user.created_by}}</td>
                                          <td>
                                        <ul class="item-actions-list">
                                            <li>
                                                <a class="remove">
                                                    <i class="fa fa-trash-o " confirmed-click="delete(user.id)" ng-confirm-click="Do you want to delete"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="edit" data-toggle="modal" data-target="#machine" title="Edit" ng-click="edit(user.id)">
                                                    <i class="fa fa-pencil"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </td>
                                          
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <div ng-include="'footer.html'"></div>
</div>


<div class="modal fade" id="machine" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
     <div class="modal-dialog" role="document">
         <div class="modal-content">
             <div class="modal-header">
                 <h5 class="modal-title" id="exampleModalLabel">Device Type</h5>
                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                 </button>
             </div>
             <div class="modal-body machine-registration">
                 <form name="deviceform">
                     <!-- <div class="form-group">
                         <label>Device Type</label>
                         <input type="text" placeholder="Device Type" class="form-control" ng-model="deviceregister.devicetype">
                     </div> -->
                     <div class="row">
                         <div class="col-md-6">
                             <div class="form-group">
                                 <label>Device Name</label>
                                 <input type="text" placeholder="Device Name" class="form-control" ng-model="deviceregister.name" ng-required="true">
                             </div>
                         </div>
                         <div class="col-md-6">
                         <div class="form-group">
                                 <label>Price</label>
                                 <input type="text" placeholder="Price" class="form-control" ng-model="deviceregister.per_pic_price" ng-change="deviceregister.total_price = deviceregister.per_pic_price * deviceregister.count" ng-required="true">
                         </div>
                         </div>
                     </div>
                      <div class="form-group" moment-picker="deviceregister.purchase_date" format="DD-MM-YYYY">
                         <label>Purchase Date</label>
                         <input type="text" placeholder="Purchase Date" class="form-control" ng-model="deviceregister.purchase_date" ng-required="true">
                     </div>
                     <div class="form-group">
                                 <label>Count</label>
                                 <input type="text" placeholder="Count" class="form-control" ng-model="deviceregister.count" ng-required="true" ng-change="deviceregister.total_price = deviceregister.per_pic_price * deviceregister.count">
                     </div>
                     <div class="form-group">
                                 <label>Total Price</label>
                                 <input type="text" placeholder="Total Price" class="form-control" ng-model="deviceregister.total_price" ng-required="true" ng-readonly="true">
                     </div>

                     <!-- div class="row">
                         <div class="col-md-6">
                             <div class="form-group">
                                 <label>Count</label>
                               
                                 <select name="account" class="form-control" ng-Required="true" ng-model="machineregistration.unit">
                                     <option value="">Select Count</option>
                                     <option value="Unit - 1">Unit1</option>
                                     <option value="Unit - 2">Unit2</option>
                                     <option value="Unit - 3">Unit3</option>
                                     <option value="Unit - 4">Unit4</option>
                                     <option value="Unit - 5">Unit5</option>
                                 </select>
                             </div> -->
                         <!-- </div> -->
                         <!-- <div class="col-md-6">
                         <div class="form-group">
                                 <label>Device ID </label><span>&nbsp;(Eg:GTA-Y001-0001)</span>
                                 
                                 <input type="text" placeholder="Device ID" class="form-control" ng-Required="true"  ng-model="machineregistration.device_id">
                         </div>
                         </div> -->

                 </form>

             </div>
             <div class="modal-footer">
                 <button type="button" class="btn btn-primary" ng-disabled="deviceform.$invalid" ng-click="submitdevice()">Save</button>
                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
             </div>
         </div>
     </div>
 </div>


